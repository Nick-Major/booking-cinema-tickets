<div class="popup" id="editSessionModal">
  <div class="popup__container">
    <div class="popup__content">
      <div class="popup__header">
        <h2 class="popup__title">
          Редактирование сеанса
          <a class="popup__dismiss" href="#" onclick="closeModal('editSessionModal')">
            <img src="{{ asset('images/admin/close.png') }}" alt="Закрыть">
          </a>
        </h2>
      </div>
      
      <div class="popup__wrapper">
        <form id="editSessionForm" method="POST">
          @csrf
          <input type="hidden" name="_method" value="PUT">
          <input type="hidden" id="edit_session_id" name="session_id">

          <!-- Информация о текущем сеансе -->
          <div class="conf-step__info-box">
            <div class="conf-step__info-item">
              <strong>Текущий сеанс:</strong> <span id="edit_current_movie">-</span>
            </div>
            <div class="conf-step__info-item">
              <strong>Текущий зал:</strong> <span id="edit_current_hall">-</span>
            </div>
            <div class="conf-step__info-item">
              <strong>Текущее время:</strong> <span id="edit_current_time">-</span>
            </div>
          </div>

          <label class="conf-step__label conf-step__label-fullsize" for="edit_movie_id">
            Фильм
            <select class="conf-step__input" name="movie_id" id="edit_movie_id" required>
              <option value="">Выберите фильм</option>
              @foreach($movies as $movie)
                <option value="{{ $movie->id }}">{{ $movie->title }} ({{ $movie->movie_duration }} мин)</option>
              @endforeach
            </select>
          </label>
          
          <label class="conf-step__label conf-step__label-fullsize" for="edit_cinema_hall_id">
            Зал
            <select class="conf-step__input" name="cinema_hall_id" id="edit_cinema_hall_id" required>
              <option value="">Выберите зал</option>
              @foreach($halls as $hall)
                <option value="{{ $hall->id }}">{{ $hall->hall_name }}</option>
              @endforeach
            </select>
          </label>

          <label class="conf-step__label conf-step__label-fullsize" for="edit_session_date">
            Дата
            <input class="conf-step__input" 
                  type="date" 
                  name="session_date" 
                  id="edit_session_date" 
                  required>
          </label>

          <label class="conf-step__label conf-step__label-fullsize" for="edit_session_time">
            Время начала
            <input class="conf-step__input" 
                  type="time" 
                  name="session_time" 
                  id="edit_session_time" 
                  required>
          </label>

          <label class="conf-step__label">
            <input type="checkbox" name="is_actual" id="edit_is_actual" value="1">
            Активный сеанс
          </label>
          
          <div class="conf-step__buttons text-center" style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <button type="submit" class="conf-step__button conf-step__button-accent">
              Сохранить изменения
            </button>
            <button type="button" class="conf-step__button conf-step__button-regular" 
                    onclick="closeModal('editSessionModal')">
              Отменить
            </button>
            <button type="button" class="conf-step__button conf-step__button-danger" 
                    id="edit_delete_button"
                    onclick="openDeleteSessionModal(
                        document.getElementById('edit_session_id').value,
                        document.getElementById('edit_current_movie').textContent,
                        document.getElementById('edit_current_hall').textContent,
                        document.getElementById('edit_current_time').textContent
                    )">
                Удалить сеанс
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>